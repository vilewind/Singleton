# Singleton
singleton pattern in cpp
## 单例模式特点
- 私有构造方法
- 私有静态全局变量
- 公有静态调用方法
### 全局变量是静态的原因
- 静态方法调用静态变量
- 实例需要在调用前被初始化
- 实例存储在静态区，每次调用都指向同一个对象

### 实现的主要方式
- 饿汉模式，即用前就初始化指针对象
- 懒汉模式，使用时初始化指针对象
》 主要的优化是针对于懒汉模式的。如加锁之类的方法，
	但由于new操作可能出现问题，因此可以使用operator new + placement new强制new按顺序执行
	同时，c++11规定了当一个线程正在初始化一个变量的时候，其他线程必须得等到该初始化完成以后才能访问它，所以使用函数内的局部静态变量的方法来实现
	call_once与once_flag联合使用，可以保证实例对象只被初始化一次